<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doomberg Machine - Rube Goldberg Death Machine</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ° Doomberg Machine ğŸ’€</h1>
            <p>Build a Rube Goldberg machine to doom the NPC!</p>
        </header>
        
        <div class="controls">
            <div class="control-group">
                <h3>Objects</h3>
                <button class="tool-btn" data-tool="ball">âš½ Ball</button>
                <button class="tool-btn" data-tool="box">ğŸ“¦ Box</button>
                <button class="tool-btn" data-tool="domino">ğŸ´ Domino</button>
                <button class="tool-btn" data-tool="ramp">ğŸ“ Ramp</button>
                <button class="tool-btn" data-tool="platform">â–¬ Platform</button>
                <button class="tool-btn" data-tool="seesaw">âš–ï¸ Seesaw</button>
                <button class="tool-btn" data-tool="spring">ğŸŒ€ Spring</button>
                <button class="tool-btn" data-tool="explosive">ğŸ’£ Explosive</button>
            </div>
            
            <div class="control-group">
                <h3>Actions</h3>
                <button id="runBtn" class="action-btn run-btn">â–¶ï¸ Run Machine</button>
                <button id="pauseBtn" class="action-btn" disabled>â¸ï¸ Pause</button>
                <button id="slowMotionBtn" class="action-btn" disabled>ğŸŒ Slow-Mo</button>
                <button id="resetBtn" class="action-btn">ğŸ”„ Reset</button>
                <button id="clearBtn" class="action-btn">ğŸ—‘ï¸ Clear All</button>
                <button id="undoBtn" class="action-btn" disabled>â†¶ Undo</button>
                <button id="redoBtn" class="action-btn" disabled>â†· Redo</button>
                <button id="soundBtn" class="action-btn">ğŸ”Š Sound: ON</button>
                <button id="gridToggleBtn" class="action-btn">âŠ Grid: OFF</button>
            </div>
            
            <div class="control-group">
                <h3>Save/Load</h3>
                <div class="save-load-controls">
                    <input type="text" id="saveName" class="save-input" placeholder="Design name..." maxlength="30">
                    <button id="saveBtn" class="action-btn">ğŸ’¾ Save</button>
                    <button id="loadBtn" class="action-btn">ğŸ“‚ Load</button>
                    <select id="savedList" class="saved-list">
                        <option value="">-- Select saved design --</option>
                    </select>
                    <button id="deleteBtn" class="action-btn">ğŸ—‘ï¸ Delete</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Replay/Recording</h3>
                <div class="replay-controls">
                    <button id="recordBtn" class="action-btn">âºï¸ Record</button>
                    <button id="replayBtn" class="action-btn" disabled>â–¶ï¸ Replay</button>
                    <button id="stopReplayBtn" class="action-btn" disabled>â¹ï¸ Stop</button>
                    <input type="text" id="recordingName" class="save-input" placeholder="Recording name..." maxlength="30">
                    <button id="saveRecordingBtn" class="action-btn">ğŸ’¾ Save</button>
                    <button id="loadRecordingBtn" class="action-btn">ğŸ“‚ Load</button>
                    <select id="recordingList" class="saved-list">
                        <option value="">-- Select recording --</option>
                    </select>
                    <button id="deleteRecordingBtn" class="action-btn">ğŸ—‘ï¸ Delete</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Status</h3>
                <div id="status">Ready to build!</div>
                <div id="objectCounter" class="object-counter">Objects: 0</div>
                <div id="doomStatus" class="doom-status">NPC Status: Alive ğŸ˜Š</div>
            </div>
        </div>
        
        <div class="game-area">
            <canvas id="gameCanvas"></canvas>
        </div>
        
        <div class="instructions">
            <h3>Instructions:</h3>
            <ol>
                <li>Click on an object type to select it</li>
                <li>Click on the canvas to place objects</li>
                <li>Right-click on objects to delete them</li>
                <li>Use Undo (Ctrl+Z) and Redo (Ctrl+Y) to reverse actions</li>
                <li>Build a contraption that will hit the NPC (red figure on the right)</li>
                <li>Click "Run Machine" to start physics simulation and recording</li>
                <li>Use Pause (Space) or Slow-Mo to control playback</li>
                <li>After reset, click "Replay" to watch your recording again</li>
                <li>Save recordings to share or analyze advanced contraptions</li>
                <li>Watch your machine doom the NPC! ğŸ’€</li>
            </ol>
        </div>
    </div>
    
    <script src="matter.min.js"></script>
    <script src="game.js"></script>
</body>
</html>
